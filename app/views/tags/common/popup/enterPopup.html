%{
    def currentValidation = play.data.validation.Validation.current();
}%
<script type="text/javascript">
    $(document).ready(function() {
        #{if currentValidation?.hasError('recoverEmail')}
            $('#enterForm').hide();
            $('#recoverEmailForm').show();
            $('#overlay').show();
            $('#popup-enter').show();
        #{/if}
        #{if currentValidation?.hasError('loginEmail') || currentValidation?.hasError('loginPassword') || currentValidation?.hasError('emailPassword') || currentValidation?.hasError(utils.ApplicationConstants.VALIDATION_LOGIN_CONTROLLER_APPROVE_REGISTRATION)}
            $('#overlay').show();
            $('#popup-enter').show();
        #{/if}
    });
</script>
<div id="overlay" class="overlay"></div>
<div id="popup-enter" class="popup-enter">
    <a href="" id="close" class="close"><img src="@{'/public/images/boilerplate/popup-close.gif'}" alt=""></a>
    <div class="popup-enter-ttl" id="popup-enter-ttl">&{'popup.enter.title'}</div>
#{form @LoginController.login(), id:'enterForm'}
    <input type="text" name="loginEmail" id="" placeholder="&{'popup.email'}">
    <input type="password" name="loginPassword" id="" placeholder="&{'popup.password'}">
    <a href="#" id="forget-password" class="forget-password">&{'popup.forgot_password'}</a>
    <button class="enter-btn" onclick="this.form.submit();">&{'popup.enter_the_site'}</button>
    #{if currentValidation?.hasError('loginEmail') || currentValidation?.hasError('loginPassword') || currentValidation?.hasError('emailPassword') || currentValidation?.hasError(utils.ApplicationConstants.VALIDATION_LOGIN_CONTROLLER_APPROVE_REGISTRATION)}
        <div class="alert">
            #{errors}
                #{if errors_isLast}
                ${error}
                #{/if}
                #{else}
                ${error}<br/>
                #{/else}
            #{/errors}
        </div>
    #{/if}
#{/form}
#{form @LoginController.recoverPassword(), id:'recoverEmailForm'}
    <input type="text" name="recoverEmail" placeholder="&{'popup.email'}">
    <a href="#" id="showEnterForm" class="forget-password">&{'popup.enter'}</a>
    <button class="enter-btn" onclick="this.form.submit();">&{'popup.send_email'}</button>
    #{if currentValidation?.hasError('recoverEmail')}
        <div class="alert">
            #{errors}
                #{if errors_isLast}
                    - ${error}
                #{/if}
                #{else}
                    - ${error}<br/>
                #{/else}
            #{/errors}
        </div>
    #{/if}
#{/form}
</div>